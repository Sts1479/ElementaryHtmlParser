# elementaryhtmlparser

## Задача.

Большинство веб-страниц сейчас перегружено всевозможной рекламой… Наша задача «вытащить»
из веб-страницы только полезную информацию, отбросив весь «мусор» (навигацию, рекламу и тд).

## Описание алгоритма и запуск.

Основная полезная информация будет храниться в определенных тэгах. Имея url, мы читаем контент страницы и ищем содержимое этих тэгов.  Для гибкой настройки в файле config.py описаны настройки, которые позволяют настроить параметры под сайт. Для парсинга используется стандартный питоновский HTMLParser, вспомогательные инструменты BeautifulSoup4 и python-requests. Пока скрипт работает с версией =>python 3.6.

Формат ввода *python -m htmlparser page_url*<br/>
Пример: *python -m htmlparser https://lenta.ru/news/2021/01/17/posol/

## Настройки.
MAX_LINE_LENGTH - максимальная длина строки текста

ALLOWED_TAGS - тэги, которые связаны с искомым текстом
Пример: записывать текст из h1 и p
ALLOWED_TAGS = ['h1', 'p']

IGNORE_ATTRS - текст, связанный с данными атрибутами, игнорируется, формат [('название атрибута', 'значение атрибута'), ...]
Пример: игнорировать текст из любых дочерних элементов тэга с id="menu" и тэга с id="navPath"
IGNORE_ATTRS = [('id', 'menu'), ('id', 'navPath')]

IGNORE_TAGS - в таких тэгах искать текст не будем
Пример: не записываем текст из любых дочерних элементов тэгов aside и header
IGNORE_TAGS = ['aside', 'header']

TAG_BEGIN_SYMBOLS - словарь для выделения  тэгов от начала строки
Пример: выделять заголовок h1 как ##
TAG_BEGIN_SYMBOLS = {'h1': '## '}

TAG_END_SYMBOLS - словарь для выделения  тэгов с конца строки
Пример: выделять заголовок h1 как ##
TAG_END_SYMBOLS = {'h1': '## '}

POSTFIX_ATTR - Если нужно достать информацию об атрибутах, то можно прописать здесь, будет прописываться в квадратных
скобках после элемента.
В данной задаче используется для ссылок.

## Тестовые страницы
* https://zen.yandex.ru/media/proautobiz/kak-pod-bokom-u-rossii-vyros-tureckii-avtogigant-a-my-i-ne-zametili-5ffdb190d65541786b61d4b0
* https://inosmi.ru/social/20210117/248925917.html
* https://anton.shevchuk.name/jquery-book/
* https://lenta.ru/news/2021/01/17/geroizm/

Результаты тестов содержатся в репозитории.

## Дальнейшее развитие
1. Доработка разделения по разным тегам вроде <ol> </ol>, и пр., возможность нумерации пунктов
2. Загрузка определенных картинок со страницы в директорию файла. 
3. Фильтрация ненормативной лексики, выделение ключевых слов, спеллчекер
4. Адаптивная настройка параметров по отношению к сайту (при включенном параметре)
5. Командное меню, возможен и графический интерфейс на базе Qt (напр).
5. Написание тестов.
6. Поддержка python 2.7


